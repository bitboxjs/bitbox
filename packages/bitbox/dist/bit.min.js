/*!
 * bitbox/bit.min.js v1.2.18
 * 
 * Author: Sergiu Toderascu <sergiu.toderascu@gmail.com> (http://bitboxjs.com)
 * License: MIT
 * Date: Wed Aug 10 2016 01:43:56 GMT+0300 (EEST)
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.bit=e():t.bit=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){"use strict";t.exports=n(58).default},function(t,e){"use strict";function n(t){return"string"==typeof t||"number"==typeof t||Array.isArray(t)||t&&"tag"in t}function r(t){return o(t)?t:t?[t]:t}function o(t){return t instanceof Array}function i(t){return void 0!==t.prototype&&void 0!==t.prototype.render}function a(t){return f(t)||p(t)}function s(t){return void 0===t||h(t)}function u(t){return h(t)||t===!1||t===!0||void 0===t}function c(t){return"function"==typeof t}function l(t){return"o"===t[0]&&"n"===t[1]&&t.length>3}function f(t){return"string"==typeof t}function p(t){return"number"==typeof t}function h(t){return null===t}function d(t){return"onCreated"===t||"onAttached"===t||"onWillDetach"===t||"onWillUpdate"===t||"onDidUpdate"===t}function v(t){return"onComponentWillMount"===t||"onComponentDidMount"===t||"onComponentWillUnmount"===t||"onComponentShouldUpdate"===t||"onComponentWillUpdate"===t||"onComponentDidUpdate"===t}function y(t){return"onComponent"===t}function g(t){return t instanceof Promise}function m(){return"undefined"!=typeof window&&window.performance?window.performance.now():Date.now()}function b(t){return t.replace(/[a-z][A-Z]/g,function(t,e){return t[0]+"-"+t[1].toLowerCase()}).toLowerCase()}function _(t,e){if(t.indexOf("-")>-1){var n=t.split("-");t=n.map(function(t,n){return e||0!==n?t.substr(0,1).toUpperCase()+t.substr(1):t}).join("")}return e?t.substr(0,1).toUpperCase()+t.substr(1):t}function w(t){var e=findDOMNode(t),n=e.getBoundingClientRect();return{bounds:{width:n.width||0,height:n.height||0,top:n.top||0,right:n.right||0,bottom:n.bottom||0,left:n.left||0},offset:document.body.scrollTop||0}}Object.defineProperty(e,"__esModule",{value:!0});var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.isChildren=n,e.toArray=r,e.isArray=o,e.isStatefulComponent=i,e.isStringOrNumber=a,e.isNullOrUndefined=s,e.isInvalidNode=u,e.isFunction=c,e.isAttrAnEvent=l,e.isString=f,e.isNumber=p,e.isNull=h,e.isAttrAHook=d,e.isAttrAComponentHook=v,e.isAttrAComponentHooks=y,e.isPromise=g,e.getNow=m,e.functionNameToTagName=b,e.camelCase=_,e.getBoundingClient=w;e.isBrowser="undefined"!=typeof window&&window.document,e.NO_RENDER="NO_RENDER",e.isBitboxModule=function(t){return"object"===("undefined"==typeof t?"undefined":j(t))&&"function"==typeof t.component},e.isBitboxComponent=function(t){return"function"==typeof t&&"bitbox-component"===t.is},e.getId=function(t){return(t.toUpperCase()+"-"+Date.now()+"-"+Math.random()).replace(/\./g,"-")}},,,function(t,e,n){"use strict";function r(t,e){return e.some(function(e){return i[e](t)})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i={};i.array=function(t){return Array.isArray(t)},i.object=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof Date)&&!(t instanceof RegExp)&&!("function"==typeof Map&&t instanceof Map)&&!("function"==typeof Set&&t instanceof Set)},i.string=function(t){return"string"==typeof t},i.number=function(t){return"number"==typeof t},i.function=function(t){return"function"==typeof t},i.primitive=function(t){return t!==Object(t)},i.splicer=function(t){return!(!i.array(t)||t.length<2)&&(r(t[0],["number","function","object"])&&i.number(t[1]))};var a=["string","number","function","object"];i.path=function(t){return!(!t&&0!==t&&""!==t)&&[].concat(t).every(function(t){return r(t,a)})},i.dynamicPath=function(t){return t.some(function(t){return i.function(t)||i.object(t)})},i.monkeyPath=function(t,e){var n=[],r=t,i=void 0,a=void 0;for(i=0,a=e.length;i<a;i++){if(n.push(e[i]),"object"!=typeof r)return null;if(r=r[e[i]],r instanceof o.Monkey)return n}return null},i.lazyGetter=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return n&&n.get&&n.get.isLazyGetter===!0},i.monkeyDefinition=function(t){if(i.object(t))return i.function(t.get)&&(!t.cursors||i.object(t.cursors)&&Object.keys(t.cursors).every(function(e){return i.path(t.cursors[e])}))?"object":null;if(i.array(t)){var e=1;return i.object(t[t.length-1])&&e++,i.function(t[t.length-e])&&t.slice(0,-e).every(function(t){return i.path(t)})?"array":null}return null},i.watcherMapping=function(t){return i.object(t)&&Object.keys(t).every(function(e){return i.path(t[e])})};var s=["set","apply","push","unshift","concat","pop","shift","deepMerge","merge","splice","unset"];i.operationType=function(t){return"string"==typeof t&&!!~s.indexOf(t)},e.default=i,t.exports=e.default},function(t,e,n){(function(e,r){var o=n(43);t.exports={getFunctionName:function(t){var e=t.toString();return e=e.substr("function ".length),e=e.substr(0,e.indexOf("("))},merge:function(){var t=[].slice.call(arguments),e=t.shift();return t.reduce(function(t,e){return Object.keys(e||{}).reduce(function(t,n){return t[n]=e[n],t},t)},e)},hasLocalStorage:function(){return"undefined"!=typeof e.localStorage},isPathObject:function(t){return t&&(t.resolve||t.reject)},debounce:function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},isAction:function(t){return"function"==typeof t},isDeveloping:function(){return"undefined"==typeof r||!1},verifyInput:function(t,e,n,r){Object.keys(n).forEach(function(i){if("undefined"==typeof r[i]||!o(n[i],r[i]))throw new Error(['Cerebral: You are giving the wrong input to the action "'+t+'" in signal "'+e+'". Check the following prop: "'+i+'"'].join(""))})},extractMatchingPathFunctions:function(t,e){var n=!1,r=function(t,e,o,i){if(n)return n;if("function"==typeof t)i[o.join(".")]=t;else if("object"==typeof t&&!Array.isArray(t)&&null!==t)for(var a in t){if(!(a in e))return n=o.slice().concat(a);o.push(a),r(t[a],e[a],o,i),o.pop(a)}return n||i};return r(t,e,[],{})},setDeep:function(t,e,n){for(var r=e.split("."),o=r.pop();r.length;){var i=r.shift();t=t[i]=t[i]||{}}return t[o]=t[o]?Object.keys(t[o]).reduce(function(e,n){return e[n]=t[o][n],e},n):n,n},extractExternalContextProviders:function(t,e){var n=t.__cerebral_global__;return e&&t[e.join(".")]?n.concat(t[e.join(".")]):n}}}).call(e,function(){return this}(),n(126))},function(t,e,n){"use strict";function r(t){if(t.isBitbox)return t;var e=i++,n=t.root,r=t.props,a=t.state,s=t.signals,u=t.hooks,c=t.events,l=t.update,f="function"==typeof t?t:"component"in t&&"function"==typeof t.component?t.component:"default"in t&&"function"==typeof t.default?t.default:void 0,p=a||s?"statefull":"stateless",h=f?f.name||t.name:t.name,d=t.tagName?t.tagName:h?(0,o.functionNameToTagName)(h):"bitbox-"+e,v=t.displayName||h||(0,o.camelCase)(d),y=!0;return{type:p,root:n,index:e,props:r,state:a,hooks:u,events:c,signals:s,update:l,component:f,displayName:v,tagName:d,isBitbox:y}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(1),i=0},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var n=void 0,r=void 0;for(n=0,r=t.length;n<r;n++)if(e(t[n]))return n;return-1}function a(t){var e=new Array(t.length),n=void 0,r=void 0;for(n=0,r=t.length;n<r;n++)e[n]=t[n];return e}function s(t){return a(t)}function u(t,e){return function(){t.apply(null,arguments),e.apply(null,arguments)}}function c(t){var e=t.source,n="";return t.global&&(n+="g"),t.multiline&&(n+="m"),t.ignoreCase&&(n+="i"),t.sticky&&(n+="y"),t.unicode&&(n+="u"),new RegExp(e,n)}function l(e,n){if(!n||"object"!=typeof n||n instanceof Error||n instanceof w.MonkeyDefinition||n instanceof w.Monkey||"ArrayBuffer"in t&&n instanceof ArrayBuffer)return n;if(k.default.array(n)){if(e){var r=[],o=void 0,i=void 0;for(o=0,i=n.length;o<i;o++)r.push(l(!0,n[o]));return r}return a(n)}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return c(n);if(k.default.object(n)){var s={},u=void 0;for(u in n)k.default.lazyGetter(n,u)?Object.defineProperty(s,u,{get:Object.getOwnPropertyDescriptor(n,u).get,enumerable:!0,configurable:!0}):n.hasOwnProperty(u)&&(s[u]=e?l(!0,n[u]):n[u]);return s}return n}function f(t){return t||0===t||""===t?t:[]}function p(t,e){var n=!0,r=void 0;if(!t)return!1;for(r in e)if(k.default.object(e[r]))n=n&&p(t[r],e[r]);else if(k.default.array(e[r]))n=n&&!!~e[r].indexOf(t[r]);else if(t[r]!==e[r])return!1;return n}function h(t,e){if(!("object"!=typeof e||null===e||e instanceof w.Monkey)&&(Object.freeze(e),t))if(Array.isArray(e)){var n=void 0,r=void 0;for(n=0,r=e.length;n<r;n++)h(!0,e[n])}else{var o=void 0,i=void 0;for(i in e)k.default.lazyGetter(e,i)||(o=e[i],o&&e.hasOwnProperty(i)&&"object"==typeof o&&!Object.isFrozen(o)&&h(!0,o))}}function d(t,e){if(!e)return M;var n=[],r=!0,o=t,a=void 0,s=void 0,u=void 0;for(s=0,u=e.length;s<u;s++){if(!o)return{data:void 0,solvedPath:n.concat(e.slice(s)),exists:!1};if("function"==typeof e[s]){if(!k.default.array(o))return M;if(a=i(o,e[s]),!~a)return M;n.push(a),o=o[a]}else if("object"==typeof e[s]){if(!k.default.array(o))return M;if(a=i(o,function(t){return p(t,e[s])}),!~a)return M;n.push(a),o=o[a]}else n.push(e[s]),r="object"==typeof o&&e[s]in o,o=o[e[s]]}return{data:o,solvedPath:n,exists:r}}function v(t,e){var n=new Error(t);for(var r in e)n[r]=e[r];return n}function y(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n[0],i=void 0,a=void 0,s=void 0,u=void 0;for(a=1,s=n.length;a<s;a++){i=n[a];for(u in i)!t||!k.default.object(i[u])||i[u]instanceof w.Monkey?o[u]=i[u]:o[u]=y(!0,o[u]||{},i[u])}return o}function g(t,e){var n=[];e=[].concat(e);for(var r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r||(n=t.slice(0)):".."===i?n=(r?n:t).slice(0,-1):n.push(i)}return n}function m(t,e){var n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0;for(n=0,i=t.length;n<i;n++){if(u=t[n],!u.length)return!0;for(r=0,a=e.length;r<a;r++){if(c=e[r],!c||!c.length)return!0;for(o=0,s=c.length;o<s&&(l=c[o],l==u[o]);o++)if(o+1===s||o+1===u.length)return!0}}return!1}function b(t,e,n){n=Math.max(0,n),k.default.function(e)&&(e=i(t,e)),k.default.object(e)&&(e=i(t,function(t){return p(t,e)}));for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return e>=0?t.slice(0,e).concat(o).concat(t.slice(e+n)):t.slice(0,t.length+e).concat(o).concat(t.slice(t.length+e+n))}Object.defineProperty(e,"__esModule",{value:!0});var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.arrayFrom=s,e.before=u,e.coercePath=f,e.getIn=d,e.makeError=v,e.solveRelativePath=g,e.solveUpdate=m,e.splice=b;var w=n(11),j=n(4),k=r(j),O=Function.prototype,P=function(){function t(e){o(this,t),this.size=e,this.records=[]}return _(t,[{key:"get",value:function(){return this.records}},{key:"add",value:function(t){return this.records.unshift(t),this.records.length>this.size&&(this.records.length=this.size),this}},{key:"clear",value:function(){return this.records=[],this}},{key:"back",value:function(t){var e=this.records[t-1];return e&&(this.records=this.records.slice(t)),e}}]),t}();e.Archive=P;var x=l.bind(null,!1),E=l.bind(null,!0);e.shallowClone=x,e.deepClone=E;var C="function"==typeof Object.freeze,A=C?h.bind(null,!1):O,S=C?h.bind(null,!0):O;e.freeze=A,e.deepFreeze=S;var M={data:void 0,solvedPath:null,exists:!1},L=y.bind(null,!1),D=y.bind(null,!0);e.shallowMerge=L,e.deepMerge=D;var N=function(){var t=0;return function(){return t++}}();e.uniqid=N}).call(e,function(){return this}())},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=n(41),c=r(u),l=n(7),f=function h(t){var e=this;o(this,h);var n=s.default.monkeyDefinition(t);if(!n)throw(0,l.makeError)("Baobab.monkey: invalid definition.",{definition:t});if(this.type=n,"object"===this.type)this.getter=t.get,this.projection=t.cursors||{},this.paths=Object.keys(this.projection).map(function(t){return e.projection[t]}),this.options=t.options||{};else{var r=1,i={};s.default.object(t[t.length-1])&&(r++,i=t[t.length-1]),this.getter=t[t.length-r],this.projection=t.slice(0,-r),this.paths=this.projection,this.options=i}this.paths=this.paths.map(function(t){return[].concat(t)}),this.hasDynamicPaths=this.paths.some(s.default.dynamicPath)};e.MonkeyDefinition=f;var p=function(){function t(e,n,r){var i=this;o(this,t),this.tree=e,this.path=n,this.definition=r;var a=r.projection,s=l.solveRelativePath.bind(null,n.slice(0,-1));"object"===r.type?(this.projection=Object.keys(a).reduce(function(t,e){return t[e]=s(a[e]),t},{}),this.depPaths=Object.keys(this.projection).map(function(t){return i.projection[t]})):(this.projection=a.map(s),this.depPaths=this.projection),this.state={killed:!1},this.writeListener=function(t){var e=t.data.path;if(!i.state.killed){var n=(0,l.solveUpdate)([e],i.relatedPaths());n&&i.update()}},this.recursiveListener=function(t){var e=t.data,n=e.monkey,r=e.path;if(!i.state.killed&&i!==n){var o=(0,l.solveUpdate)([r],i.relatedPaths(!1));o&&i.update()}},this.tree.on("write",this.writeListener),this.tree.on("_monkey",this.recursiveListener),this.update()}return i(t,[{key:"relatedPaths",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0],n=void 0;n=this.definition.hasDynamicPaths?this.depPaths.map(function(e){return(0,l.getIn)(t.tree._data,e).solvedPath}):this.depPaths;var r=e&&this.depPaths.some(function(e){return!!s.default.monkeyPath(t.tree._monkeys,e)});return r?n.reduce(function(e,n){var r=s.default.monkeyPath(t.tree._monkeys,n);if(!r)return e.concat([n]);var o=(0,l.getIn)(t.tree._monkeys,r).data;return e.concat(o.relatedPaths())},[]):n}},{key:"update",value:function(){var t=this.tree.project(this.projection),e=function(t,e,n){var r=null,o=!1;return function(){return o||(r=e.getter.apply(t,"object"===e.type?[n]:n),t.options.immutable&&e.options.immutable!==!1&&(0,l.deepFreeze)(r),o=!0),r}}(this.tree,this.definition,t);if(e.isLazyGetter=!0,this.tree.options.lazyMonkeys)this.tree._data=(0,c.default)(this.tree._data,this.path,{type:"monkey",value:e},this.tree.options).data;else{var n=(0,c.default)(this.tree._data,this.path,{type:"set",value:e(),options:{mutableLeaf:!this.definition.options.immutable}},this.tree.options);"data"in n&&(this.tree._data=n.data)}return this.tree.emit("_monkey",{monkey:this,path:this.path}),this}},{key:"release",value:function(){this.tree.off("write",this.writeListener),this.tree.off("_monkey",this.monkeyListener),this.state.killed=!0,delete this.projection,delete this.depPaths,delete this.tree}}]),t}();e.Monkey=p},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(120);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}var o=n(105);t.exports=r},function(t,e,n){var r=n(50),o=r(Object,"create");t.exports=o},,,,,function(t,e,n){(function(){"use strict";function n(t,e){var n,r={};for(n in t)r[n]=t[n];for(n in e)r[n]=e[n];return r}function r(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof Function)&&!(t instanceof RegExp)}function o(t,e,n){var r,o,i,a;for(o in t)e.call(n||null,o,t[o]);if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(t),i=0,a=r.length;i<a;i++)e.call(n||null,r[i],t[r[i]])}function i(t,e){t=t||[];var n,r,o=[];for(r=0,n=t.length;r<n;r++)t[r].fn!==e&&o.push(t[r]);return o}var a={once:"boolean",scope:"object"},s=0,u=function(){this._enabled=!0,this.unbindAll()};u.prototype.unbindAll=function(){return this._handlers={},this._handlersAll=[],this._handlersComplex=[],this},u.prototype.on=function(t,e,n){var i,u,c,l,f,p,h;if(r(t))return o(t,function(t,n){this.on(t,n,e)},this),this;for("function"==typeof t&&(n=e,e=t,t=null),f=[].concat(t),i=0,u=f.length;i<u;i++){if(l=f[i],h={order:s++,fn:e},"string"==typeof l||"symbol"==typeof l)this._handlers[l]||(this._handlers[l]=[]),p=this._handlers[l],h.type=l;else if(l instanceof RegExp)p=this._handlersComplex,h.pattern=l;else{if(null!==l)throw Error("Emitter.on: invalid event.");p=this._handlersAll}for(c in n||{})a[c]&&(h[c]=n[c]);p.push(h)}return this},u.prototype.once=function(){var t=Array.prototype.slice.call(arguments),e=t.length-1;return r(t[e])&&t.length>1?t[e]=n(t[e],{once:!0}):t.push({once:!0}),this.on.apply(this,t)},u.prototype.off=function(t,e){var n,a,s,u;if(1===arguments.length&&"function"==typeof t){e=arguments[0];for(s in this._handlers)this._handlers[s]=i(this._handlers[s],e),0===this._handlers[s].length&&delete this._handlers[s];this._handlersAll=i(this._handlersAll,e),this._handlersComplex=i(this._handlersComplex,e)}else if(1!==arguments.length||"string"!=typeof t&&"symbol"!=typeof t)if(2===arguments.length){var c=[].concat(t);for(n=0,a=c.length;n<a;n++)u=c[n],this._handlers[u]=i(this._handlers[u],e),0===(this._handlers[u]||[]).length&&delete this._handlers[u]}else r(t)&&o(t,this.off,this);else delete this._handlers[t];return this},u.prototype.listeners=function(t){var e,n,r,o=this._handlersAll||[],i=!1;if(!t)throw Error("Emitter.listeners: no event provided.");for(o=o.concat(this._handlers[t]||[]),n=0,r=this._handlersComplex.length;n<r;n++)e=this._handlersComplex[n],~t.search(e.pattern)&&(i=!0,o.push(e));return this._handlersAll.length||i?o.sort(function(t,e){return t.order-e.order}):o.slice(0)},u.prototype.emit=function(t,e){if(!this._enabled)return this;if(r(t))return o(t,this.emit,this),this;var n,i,a,s,u,c,l,f,p=[].concat(t),h=[];for(u=0,l=p.length;u<l;u++){for(a=this.listeners(p[u]),c=0,f=a.length;c<f;c++)s=a[c],n={type:p[u],target:this},arguments.length>1&&(n.data=e),s.fn.call("scope"in s?s.scope:this,n),s.once&&h.push(s);for(c=h.length-1;c>=0;c--)i=h[c].type?this._handlers[h[c].type]:h[c].pattern?this._handlersComplex:this._handlersAll,i.splice(i.indexOf(h[c]),1)}return this},u.prototype.kill=function(){this.unbindAll(),this._handlers=null,this._handlersAll=null,this._handlersComplex=null,this._enabled=!1,this.unbindAll=this.on=this.once=this.off=this.emit=this.listeners=Function.prototype},u.prototype.disable=function(){return this._enabled=!1,this},u.prototype.enable=function(){return this._enabled=!0,this},u.version="3.1.1","undefined"!=typeof t&&t.exports&&(e=t.exports=u),e.Emitter=u}).call(this)},,,,,function(t,e,n){var r=n(96),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&s.call(t)==i}var o=n(123),i="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},,,,,,,,,,,,,function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Object.keys(t).reduce(function(r,o){if(t[o].getDepsMap)return n(t[o].getDepsMap(),e);var i=Array.isArray(t[o])?t[o].join("."):t[o];return r[i]=!0,r},e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!e)throw(0,v.makeError)("Baobab.Cursor."+t+": "+("cannot use "+t+" on an unresolved dynamic path."),{path:e})}function s(t,e){y.prototype[t]=function(n,r){if(arguments.length>2)throw(0,v.makeError)("Baobab.Cursor."+t+": too many arguments.");if(1!==arguments.length||g[t]||(r=n,n=[]),n=(0,v.coercePath)(n),!d.default.path(n))throw(0,v.makeError)("Baobab.Cursor."+t+": invalid path.",{path:n});if(e&&!e(r))throw(0,v.makeError)("Baobab.Cursor."+t+": invalid value.",{path:n,value:r});if(!this.solvedPath)throw(0,v.makeError)("Baobab.Cursor."+t+": the dynamic path of the cursor cannot be solved.",{path:this.path});var o=this.solvedPath.concat(n);return this.tree.update(o,{type:t,value:r})}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t,e,n){for(var r=!0;r;){var o=t,i=e,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=i,n=a,r=!0,s=c=void 0}},l=n(19),f=r(l),p=n(11),h=n(4),d=r(h),v=n(7),y=function(t){function e(t,n,r){var i=this;o(this,e),c(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),n=n||[],this._identity="[object Cursor]",this._archive=null,this.tree=t,this.path=n,this.hash=r,this.state={killed:!1,recording:!1,undoing:!1},this._dynamicPath=d.default.dynamicPath(this.path),this._monkeyPath=d.default.monkeyPath(this.tree._monkeys,this.path),this._dynamicPath?this.solvedPath=(0,v.getIn)(this.tree._data,this.path).solvedPath:this.solvedPath=this.path,this._writeHandler=function(t){var e=t.data;!i.state.killed&&(0,v.solveUpdate)([e.path],i._getComparedPaths())&&(i.solvedPath=(0,v.getIn)(i.tree._data,i.path).solvedPath)};var a=function(t){var e=i,n=Object.defineProperties({},{previousData:{get:function(){return(0,v.getIn)(t,e.solvedPath).data},configurable:!0,enumerable:!0},currentData:{get:function(){return e.get()},configurable:!0,enumerable:!0}});return i.state.recording&&!i.state.undoing&&i.archive.add(n.previousData),i.state.undoing=!1,i.emit("update",n)};this._updateHandler=function(t){if(!i.state.killed){var e=t.data,n=e.paths,r=e.previousData,o=a.bind(i,r),s=i._getComparedPaths();return(0,v.solveUpdate)(n,s)?o():void 0}};var s=!1;this._lazyBind=function(){if(!s)return s=!0,i._dynamicPath&&i.tree.on("write",i._writeHandler),i.tree.on("update",i._updateHandler)},this._dynamicPath?this._lazyBind():(this.on=(0,v.before)(this._lazyBind,this.on.bind(this)),this.once=(0,v.before)(this._lazyBind,this.once.bind(this)))}return i(e,t),u(e,[{key:"_getComparedPaths",value:function(){var t=this._monkeyPath?(0,v.getIn)(this.tree._monkeys,this._monkeyPath).data.relatedPaths():[];return[this.solvedPath].concat(t)}},{key:"isRoot",value:function(){return!this.path.length}},{key:"isLeaf",value:function(){return d.default.primitive(this._get().data)}},{key:"isBranch",value:function(){return!this.isRoot()&&!this.isLeaf()}},{key:"root",value:function(){return this.tree.select()}},{key:"select",value:function(t){return arguments.length>1&&(t=(0,v.arrayFrom)(arguments)),this.tree.select(this.path.concat(t))}},{key:"up",value:function(){return this.isRoot()?null:this.tree.select(this.path.slice(0,-1))}},{key:"down",value:function(){if(a("down",this.solvedPath),!(this._get().data instanceof Array))throw Error("Baobab.Cursor.down: cannot go down on a non-list type.");return this.tree.select(this.solvedPath.concat(0))}},{key:"left",value:function(){a("left",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.left: cannot go left on a non-list type.");return t?this.tree.select(this.solvedPath.slice(0,-1).concat(t-1)):null}},{key:"right",value:function(){a("right",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.right: cannot go right on a non-list type.");return t+1===this.up()._get().data.length?null:this.tree.select(this.solvedPath.slice(0,-1).concat(t+1))}},{key:"leftmost",value:function(){a("leftmost",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.leftmost: cannot go left on a non-list type.");return this.tree.select(this.solvedPath.slice(0,-1).concat(0))}},{key:"rightmost",value:function(){a("rightmost",this.solvedPath);var t=+this.solvedPath[this.solvedPath.length-1];if(isNaN(t))throw Error("Baobab.Cursor.rightmost: cannot go right on a non-list type.");var e=this.up()._get().data;return this.tree.select(this.solvedPath.slice(0,-1).concat(e.length-1))}},{key:"map",value:function(t,e){a("map",this.solvedPath);var n=this._get().data,r=arguments.length;if(!d.default.array(n))throw Error("baobab.Cursor.map: cannot map a non-list type.");return n.map(function(o,i){return t.call(r>1?e:this,this.select(i),i,n)},this)}},{key:"_get",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(!d.default.path(t))throw(0,v.makeError)("Baobab.Cursor.getters: invalid path.",{path:t});return this.solvedPath?(0,v.getIn)(this.tree._data,this.solvedPath.concat(t)):{data:void 0,solvedPath:null,exists:!1}}},{key:"exists",value:function(t){return t=(0,v.coercePath)(t),arguments.length>1&&(t=(0,v.arrayFrom)(arguments)),this._get(t).exists}},{key:"get",value:function(t){t=(0,v.coercePath)(t),arguments.length>1&&(t=(0,v.arrayFrom)(arguments));var e=this._get(t),n=e.data,r=e.solvedPath;return this.tree.emit("get",{data:n,solvedPath:r,path:this.path.concat(t)}),n}},{key:"clone",value:function(){var t=this.get.apply(this,arguments);return(0,v.shallowClone)(t)}},{key:"deepClone",value:function(){var t=this.get.apply(this,arguments);return(0,v.deepClone)(t)}},{key:"serialize",value:function(t){if(t=(0,v.coercePath)(t),arguments.length>1&&(t=(0,v.arrayFrom)(arguments)),!d.default.path(t))throw(0,v.makeError)("Baobab.Cursor.getters: invalid path.",{path:t});if(this.solvedPath){var e=this.solvedPath.concat(t),n=(0,v.deepClone)((0,v.getIn)(this.tree._data,e).data),r=(0,v.getIn)(this.tree._monkeys,e).data,o=function i(t,e){if(d.default.object(e)&&d.default.object(t))for(var n in e)e[n]instanceof p.Monkey?delete t[n]:i(t[n],e[n])};return o(n,r),n}}},{key:"project",value:function(t){if(d.default.object(t)){var e={};for(var n in t)e[n]=this.get(t[n]);return e}if(d.default.array(t)){for(var e=[],r=0,o=t.length;r<o;r++)e.push(this.get(t[r]));return e}throw(0,v.makeError)("Baobab.Cursor.project: wrong projection.",{projection:t})}},{key:"startRecording",value:function(t){if(t=t||1/0,t<1)throw(0,v.makeError)("Baobab.Cursor.startRecording: invalid max records.",{value:t});return this.state.recording=!0,this.archive?this:(this._lazyBind(),this.archive=new v.Archive(t),this)}},{key:"stopRecording",value:function(){return this.state.recording=!1,this}},{key:"undo",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(!this.state.recording)throw new Error("Baobab.Cursor.undo: cursor is not recording.");var e=this.archive.back(t);if(!e)throw Error("Baobab.Cursor.undo: cannot find a relevant record.");return this.state.undoing=!0,this.set(e),this}},{key:"hasHistory",value:function(){return!(!this.archive||!this.archive.get().length)}},{key:"getHistory",value:function(){return this.archive?this.archive.get():[]}},{key:"clearHistory",value:function(){return this.archive&&this.archive.clear(),this}},{key:"release",value:function(){this._dynamicPath&&this.tree.off("write",this._writeHandler),this.tree.off("update",this._updateHandler),this.hash&&delete this.tree._cursors[this.hash],delete this.tree,delete this.path,delete this.solvedPath,delete this.archive,this.kill(),this.state.killed=!0}},{key:"toJSON",value:function(){return this.serialize()}},{key:"toString",value:function(){return this._identity}}]),e}(f.default);e.default=y,"function"==typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(y.prototype[Symbol.iterator]=function(){var t=this._get().data;if(!d.default.array(t))throw Error("baobab.Cursor.@@iterate: cannot iterate a non-list type.");var e=0,n=this,r=t.length;return{next:function(){return e<r?{value:n.select(e++)}:{done:!0}}}});var g={unset:!0,pop:!0,shift:!0};s("set"),s("unset"),s("apply",d.default.function),s("push"),s("concat",d.default.array),s("unshift"),s("pop"),s("shift"),s("splice",d.default.splicer),s("merge",d.default.object),s("deepMerge",d.default.object),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){return(0,c.makeError)('Baobab.update: cannot apply the "'+t+'" on '+("a non "+e+" (path: /"+n.join("/")+")."),{path:n})}function a(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=n.type,s=n.value,l=n.options,f=void 0===l?{}:l,p={root:t},h=["root"].concat(o(e)),d=[],v=p,y=void 0,g=void 0,m=void 0;for(y=0,g=h.length;y<g;y++){if(m=h[y],y>0&&d.push(m),y===g-1){if("set"===a){if(r.pure&&v[m]===s)return{node:v[m]};u.default.lazyGetter(v,m)?Object.defineProperty(v,m,{value:s,enumerable:!0,configurable:!0}):r.persistent&&!f.mutableLeaf?v[m]=(0,c.shallowClone)(s):v[m]=s}else if("monkey"===a)Object.defineProperty(v,m,{get:s,enumerable:!0,configurable:!0});else if("apply"===a){var b=s(v[m]);if(r.pure&&v[m]===b)return{node:v[m]};u.default.lazyGetter(v,m)?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0}):r.persistent?v[m]=(0,c.shallowClone)(b):v[m]=b}else if("push"===a){if(!u.default.array(v[m]))throw i("push","array",d);r.persistent?v[m]=v[m].concat([s]):v[m].push(s)}else if("unshift"===a){if(!u.default.array(v[m]))throw i("unshift","array",d);r.persistent?v[m]=[s].concat(v[m]):v[m].unshift(s)}else if("concat"===a){if(!u.default.array(v[m]))throw i("concat","array",d);r.persistent?v[m]=v[m].concat(s):v[m].push.apply(v[m],s)}else if("splice"===a){if(!u.default.array(v[m]))throw i("splice","array",d);r.persistent?v[m]=c.splice.apply(null,[v[m]].concat(s)):v[m].splice.apply(v[m],s)}else if("pop"===a){if(!u.default.array(v[m]))throw i("pop","array",d);r.persistent?v[m]=(0,c.splice)(v[m],-1,1):v[m].pop()}else if("shift"===a){if(!u.default.array(v[m]))throw i("shift","array",d);r.persistent?v[m]=(0,c.splice)(v[m],0,1):v[m].shift()}else if("unset"===a)u.default.object(v)?delete v[m]:u.default.array(v)&&v.splice(m,1);else if("merge"===a){if(!u.default.object(v[m]))throw i("merge","object",d);r.persistent?v[m]=(0,c.shallowMerge)({},v[m],s):v[m]=(0,c.shallowMerge)(v[m],s)}else if("deepMerge"===a){if(!u.default.object(v[m]))throw i("deepMerge","object",d);r.persistent?v[m]=(0,c.deepMerge)({},v[m],s):v[m]=(0,c.deepMerge)(v[m],s)}r.immutable&&!f.mutableLeaf&&(0,c.deepFreeze)(v);break}u.default.primitive(v[m])?v[m]={}:r.persistent&&(v[m]=(0,c.shallowClone)(v[m])),r.immutable&&g>0&&(0,c.freeze)(v),v=v[m]}return u.default.lazyGetter(v,m)?{data:p.root}:{data:p.root,node:v[m]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=n(4),u=r(s),c=n(7);t.exports=e.default},function(t,e,n){var r=n(5),o=function(t,e,n,i,a){var s,u=function(t){return a=!a,t.map(function(e,r){n.push(r);var s=o(e,t,n,i,a);return n.pop(),s}).filter(function(t){return!!t})};if("function"==typeof t&&t.async&&a)return s=e[e.indexOf(t)+1],Array.isArray(s)||"object"!=typeof s?u([t]):(e.splice(e.indexOf(s),1),
u([t,s]));if(Array.isArray(t))return t=t.slice(),u(t);if("function"==typeof t){var c={name:t.displayName||r.getFunctionName(t),options:{output:t.output,outputs:t.outputs,defaultOutput:t.defaultOutput,defaultInput:t.defaultInput,input:t.input},duration:0,isAsync:!a,isExecuting:!1,hasExecuted:!1,path:n.slice(),outputs:null,actionIndex:i.indexOf(t)===-1?i.push(t)-1:i.indexOf(t)};return s=e[e.indexOf(t)+1],Array.isArray(s)||"object"!=typeof s||(e.splice(e.indexOf(s),1),c.outputs=Object.keys(s).reduce(function(r,a){if(Array.isArray(t.outputs)&&!~t.outputs.indexOf(a))throw new Error("Cerebral - output path "+a+" doesn't matches to possible otputs defined for "+c.name+" action");return n=n.concat("outputs",a),r[a]=o(s[a],e,n,i,!1),n.pop(),n.pop(),r},{})),c}};t.exports=function(t){var e=[],n=o(t,[],[],e,!1);return{branches:n,actions:e}}},function(t,e){t.exports=function(t,e){var n=[String,Number,Array,Object,Boolean];return(null!==t||null===e)&&((void 0!==t||void 0===e)&&((t!==String||"string"==typeof e)&&((t!==Number||"number"==typeof e)&&(!(t===Array&&!Array.isArray(e))&&((t!==Object||"object"==typeof e&&!Array.isArray(e)&&null!==e)&&((t!==Boolean||"boolean"==typeof e)&&(n.indexOf(t)!==-1||"function"!=typeof t||t(e))))))))}},,,,,,,function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(92),i=n(97);t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},,,function(t,e){"use strict";function n(t,e,n){if(!e)return t();if("string"==typeof e)return t(e);var r="function"==typeof e?e(n,t):e;return r?Object.keys(r).reduce(function(e,n){return e[n]="function"==typeof r[n]?r[n]:t(r[n]),e},{}):{}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t,e,n){if(!e)return t.getState();if("string"==typeof e)return t.getState(e);var r="function"==typeof e?e(n,t.compute):e;return r?Object.keys(r).reduce(function(e,n){return e[n]=r[n].getDepsMap?r[n].get(t.getState()):t.getState(r[n]),e},{}):{}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";function n(t){function e(t,r){Object.keys(t).forEach(function(o){r.push(o),t[o]===!0?n.push(r.join(".")):e(t[o],r),r.pop()})}var n=[];return e(t,[]),n}Object.defineProperty(e,"__esModule",{value:!0}),e.extractPaths=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(t){var n=arguments;if("function"==typeof t&&"connect"===t.name)return t(e);if(t instanceof Promise)return t.then(e);var r=(0,x.default)(t);if("state"in r){var o=function(){var t=n[1]||r.component,o=n[2]||{},i={displayName:r.displayName,tagName:r.tagName,_updateDuration:0,_updateTime:0,_updatedTime:0,update:function(e){t(e(r,o)),this._updates=(this._updates||0)+1},get component(){return r}};return e.mount(i,o),i.update(e.get),{v:e.get(r,o)}}();if("object"===("undefined"==typeof o?"undefined":i(o)))return o.v}return e.get(t,arguments[1])}for(var n=arguments.length,r=Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];if(o.map.has(t))return r.length?o.map.get(t).apply(void 0,r):o.map.get(t);if(t instanceof Promise)return function(e){return t.then(o).then(e)};var l=t.state,p=t.modules,d=t.signals,y=t.services,m=t.displayName||t.name,_=a({},E,t.config),j=_.immutable?(0,c.default)(l):(0,f.default)(l),P=(0,s.Controller)(j);p&&P.addModules(p),d&&P.addSignals(d),y&&P.addServices(y),"dev"===_.env&&P.addModules({devtools:(0,v.default)()}),P.addSignals({stateChanged:[function(t){var e=t.input,n=t.state;n.set(e.path,e.value)}]}),P.addContextProvider(h.default);var C=(0,w.default)(e),A=C.register,S=C.unregister,M=C.traverse;return e.index=o.index++,e.displayName=m||"store-"+e.index,e.tagName=m?(0,O.functionNameToTagName)(m):"store-"+e.index,e.config=_,e.isServer=P.isServer,e.compute=s.Computed,e.getState=P.get,e.get=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t){n=e.props(t.props,n);var r="function"==typeof t.state?t.state(n,e.compute):t.state,o=r&&Object.keys(r).length?e.state(r):{},i="function"==typeof t.signals?t.signals(n,e.signals):t.signals,a=i&&Object.keys(i).length?e.signals(i):{},s=Object.create({get:function(n){return e.get(t,n)}});return Object.assign(s,n,o,a)}},e.props=function(t,e){return"function"==typeof t?t(e):a({},t,e)},e.deps=function(t,n){var r="function"==typeof t?t(n,e.compute):t;return r&&Object.keys(r).length?(0,k.default)(r):{}},e.instances=function(t){return M(t)},e.status=function(){return Object.keys(e.registry).reduce(function(t,n){return t[n]=e.registry[n].map(function(t){return t.displayName}),t},{})},e.mount=function(t,n){var r=t.component.state;t.deps="function"==typeof r?r(n,e.compute):r,t.paths=t.deps?Object.keys(t.deps).map(function(e){return t.deps[e]}):null;var o=A(t);return e.emit("mount",{instance:t}),o},e.unmount=function(t){var n=S(t);return e.emit("unmount",{instance:t}),n},e.state=function(t,n){return(0,g.default)(e,t,n)},e.signals=function(t,e){return(0,b.default)(P.getSignals,t,e)},e.services=function(t){return P.getServices(t)},e.modules=function(t){return P.getModules(t)},e.model=function(){return P.getModel()},e.add=function(t,e){var n={contextProvider:"addContextProvider",listener:"addListener",modules:"addModules",signals:"addSignals",services:"addServices"};""+(t[0].toUpperCase()+t.substring(1));if(!(t in n))throw new Error("Invalid type: "+t+", expected: "+Object.keys(n));return P[n[t]](e),P["get"+n[t].substr(3)]()},e.on=function(){return P.on.apply(P,arguments),P._events},e.once=function(){return P.once.apply(P,arguments),P._events},e.off=function(t,e){return e?P.removeListener(t,e):P.removeAllListeners.apply(P,arguments),P._events},e.emit=function(){P.emit.apply(P,arguments)},e.updateIndex=0,e.updateStart=0,e.updateEnd=0,e.on("flush",function(t){var n=M(t);e.updateIndex++,e.updateStart=(0,O.getNow)(),n.forEach(function(t){(0,O.getNow)();t._updateTime=(0,O.getNow)(),t.update(e.get),t._updatedTime=(0,O.getNow)(),t._updateDuration=t._updatedTime-t._updateTime}),e.updateEnd=(0,O.getNow)()}),o.map.set(t,e),o.map.set(e.tagName,e),e}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(84),u=n(62),c=r(u),l=n(63),f=r(l),p=n(71),h=r(p),d=n(64),v=r(d),y=n(56),g=r(y),m=n(55),b=r(m),_=n(59),w=r(_),j=n(38),k=r(j),O=n(1),P=n(6),x=r(P),E=(n(57),{env:"dev",dev:!0,immutable:!0});o.version="1.2.18",o.build="Wed Aug 10 2016 01:43:56 GMT+0300 (EEST)",o.index=0,o.map=new Map},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),i=r(o);e.default=function(t){function e(e){n(e);var r=(0,i.default)(e.deps);return!(!r||!Object.keys(r).length)&&(t.registry=Object.keys(r).reduce(function(t,n){return t[n]=t[n]?t[n].concat(e):[e],t},t.registry),!0)}function n(e){Object.keys(t.registry).forEach(function(n){t.registry[n].indexOf(e)>=0&&t.registry[n].splice(t.registry[n].indexOf(e),1),0===t.registry[n].length&&delete t.registry[n]})}function r(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],i=t.registry;return Object.keys(e).forEach(function(t){n.push(t);var a=n.join(".");i[a]&&(o=i[a].reduce(function(t,e){return t.indexOf(e)===-1?t.concat(e):t},o)),e[t]!==!0&&(o=r(e[t],n,o)),n.pop()}),o}return t.registry={},{register:e,unregister:n,traverse:r}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return"λ"+t.map(function(t){return m.default.function(t)||m.default.object(t)?"#"+L()+"#":t}).join("λ")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t,e,n){for(var r=!0;r;){var o=t,i=e,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=i,n=a,r=!0,s=c=void 0}},l=n(19),f=o(l),p=n(40),h=o(p),d=n(11),v=n(61),y=o(v),g=n(4),m=o(g),b=n(41),_=o(b),w=n(7),j=r(w),k=j.arrayFrom,O=j.coercePath,P=j.deepFreeze,x=j.getIn,E=j.makeError,C=j.deepClone,A=j.deepMerge,S=j.shallowClone,M=j.shallowMerge,L=j.uniqid,D={autoCommit:!0,asynchronous:!0,immutable:!0,lazyMonkeys:!0,persistent:!0,pure:!0,validate:null,validationBehavior:"rollback"},N=function(t){function e(t,n){var r=this;if(i(this,e),c(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),arguments.length<1&&(t={}),!m.default.object(t)&&!m.default.array(t))throw E("Baobab: invalid data.",{data:t});this.options=M({},D,n),this.options.persistent||(this.options.immutable=!1,this.options.pure=!1),this._identity="[object Baobab]",this._cursors={},this._future=null,this._transaction=[],this._affectedPathsIndex={},this._monkeys={},this._previousData=null,this._data=t,this.root=new h.default(this,[],"λ"),delete this.root.release,this.options.immutable&&P(this._data);var o=function(t){r[t]=function(){var e=this.root[t].apply(this.root,arguments);return e instanceof h.default?this:e}};["apply","clone","concat","deepClone","deepMerge","exists","get","push","merge","pop","project","serialize","set","shift","splice","unset","unshift"].forEach(o),this._refreshMonkeys();var a=this.validate();if(a)throw Error("Baobab: invalid data.",{error:a})}return a(e,t),u(e,[{key:"_refreshMonkeys",value:function(t,e,n){var r=this,o=function s(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(t instanceof d.Monkey)return t.release(),void(0,_.default)(r._monkeys,e,{type:"unset"},{immutable:!1,persistent:!1,pure:!1});if(m.default.object(t))for(var n in t)s(t[n],e.concat(n))},i=function u(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(t instanceof d.MonkeyDefinition||t instanceof d.Monkey){var n=new d.Monkey(r,e,t instanceof d.Monkey?t.definition:t);return void(0,_.default)(r._monkeys,e,{type:"set",value:n},{immutable:!1,persistent:!1,pure:!1})}if(m.default.object(t))for(var o in t)u(t[o],e.concat(o))};if(arguments.length){var a=x(this._monkeys,e).data;a&&o(a,e),"unset"!==n&&i(t,e)}else i(this._data);return this}},{key:"validate",value:function n(t){var e=this.options,n=e.validate,r=e.validationBehavior;if("function"!=typeof n)return null;var o=n.call(this,this._previousData,this._data,t||[[]]);return o instanceof Error?("rollback"===r&&(this._data=this._previousData,this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data),this.emit("invalid",{error:o}),o):null}},{key:"select",value:function(t){if(t=t||[],arguments.length>1&&(t=k(arguments)),!m.default.path(t))throw E("Baobab.select: invalid path.",{path:t});t=[].concat(t);var e=s(t),n=this._cursors[e];return n||(n=new h.default(this,t,e),this._cursors[e]=n),this.emit("select",{path:t,cursor:n}),n}},{key:"update",value:function(t,e){var n=this;if(t=O(t),!m.default.operationType(e.type))throw E('Baobab.update: unknown operation type "'+e.type+'".',{operation:e});var r=x(this._data,t),o=r.solvedPath,i=r.exists;if(!o)throw E("Baobab.update: could not solve the given path.",{path:o});var a=m.default.monkeyPath(this._monkeys,o);if(a&&o.length>a.length)throw E("Baobab.update: attempting to update a read-only path.",{path:o});if("unset"!==e.type||i){var u=e;if(/merge/i.test(e.type)){var c=x(this._monkeys,o).data;if(m.default.object(c)){u=S(u);var l=x(this._data,o).data;/deep/i.test(u.type)?u.value=A({},A({},l,C(c)),u.value):u.value=M({},A({},l,C(c)),u.value)}}this._transaction.length||(this._previousData=this._data);var f=(0,_.default)(this._data,o,u,this.options),p=f.data,h=f.node;if(!("data"in f))return h;var d=o.concat("push"===e.type?h.length-1:[]),v=s(d);return this._data=p,this._affectedPathsIndex[v]=!0,this._transaction.push(M({},e,{path:d})),this._refreshMonkeys(h,o,e.type),this.emit("write",{path:d}),this.options.autoCommit?this.options.asynchronous?(this._future||(this._future=setTimeout(function(){return n.commit()},0)),h):(this.commit(),h):h}}},{key:"commit",value:function(){if(!this._transaction.length)return this;this._future&&(this._future=clearTimeout(this._future));var t=Object.keys(this._affectedPathsIndex).map(function(t){return"λ"!==t?t.split("λ").slice(1):[]}),e=this.validate(t);if(e)return this;var n=this._transaction,r=this._previousData;return this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data,this.emit("update",{paths:t,currentData:this._data,transaction:n,previousData:r}),this}},{key:"getMonkey",value:function(t){t=O(t);var e=x(this._monkeys,[].concat(t)).data;return e instanceof d.Monkey?e:null}},{key:"watch",value:function(t){return new y.default(this,t)}},{key:"release",value:function(){var t=void 0;this.emit("release"),delete this.root,delete this._data,delete this._previousData,delete this._transaction,delete this._affectedPathsIndex,delete this._monkeys;for(t in this._cursors)this._cursors[t].release();delete this._cursors,this.kill()}},{key:"toJSON",value:function(){return this.serialize()}},{key:"toString",value:function(){return this._identity}}]),e}(f.default);e.default=N,N.monkey=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new Error("Baobab.monkey: missing definition.");return 1===e.length&&"function"!=typeof e[0]?new d.MonkeyDefinition(e[0]):new d.MonkeyDefinition(e)},N.dynamicNode=N.monkey,N.Cursor=h.default,N.MonkeyDefinition=d.MonkeyDefinition,N.Monkey=d.Monkey,N.type=m.default,N.helpers=j,N.VERSION="2.3.2",t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var o=t,i=e,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;t=c,e=i,n=a,r=!0,s=c=void 0}},u=n(19),c=r(u),l=n(40),f=r(l),p=n(4),h=r(p),d=n(7),v=function(t){function e(t,n){var r=this;o(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.tree=t,this.mapping=null,this.state={killed:!1},this.refresh(n),this.handler=function(t){if(!r.state.killed){var e=r.getWatchedPaths();return(0,d.solveUpdate)(t.data.paths,e)?r.emit("update"):void 0}},this.tree.on("update",this.handler)}return i(e,t),a(e,[{key:"getWatchedPaths",value:function(){var t=this,e=Object.keys(this.mapping).map(function(e){var n=t.mapping[e];return n instanceof f.default?n.solvedPath:t.mapping[e]});return e.reduce(function(e,n){if(n=[].concat(n),h.default.dynamicPath(n)&&(n=(0,d.getIn)(t.tree._data,n).solvedPath),!n)return e;var r=h.default.monkeyPath(t.tree._monkeys,n);return r?e.concat((0,d.getIn)(t.tree._monkeys,r).data.relatedPaths()):e.concat([n])},[])}},{key:"getCursors",value:function(){var t=this,e={};return Object.keys(this.mapping).forEach(function(n){var r=t.mapping[n];r instanceof f.default?e[n]=r:e[n]=t.tree.select(r)}),e}},{key:"refresh",value:function(t){if(!h.default.watcherMapping(t))throw(0,d.makeError)("Baobab.watch: invalid mapping.",{mapping:t});this.mapping=t;var e={};for(var n in t)e[n]=t[n]instanceof f.default?t[n].path:t[n];this.get=this.tree.project.bind(this.tree,e)}},{key:"release",value:function(){this.tree.off("update",this.handler),this.state.killed=!0,this.kill()}}]),e}(c.default);e.default=v,t.exports=e.default},function(t,e,n){function r(t,e){var n=Array.isArray(e),o=n&&[]||{};return n?(t=t||[],o=e.slice(),e.forEach(function(e,n){"undefined"==typeof o[n]?o[n]=e:"object"==typeof e&&(o[n]=r(t[n],e))})):(t&&"object"==typeof t&&Object.keys(t).forEach(function(e){o[e]=t[e]}),Object.keys(e).forEach(function(n){"object"==typeof e[n]&&e[n]&&t[n]?o[n]=r(t[n],e[n]):o[n]=e[n]})),o}function o(t,e){function n(t,e,r){return!(!Array.isArray(t)&&"object"==typeof t&&null!==t&&Object.keys(t).length)||(Object.keys(t).forEach(function(o){e.push(o),r[o]=n(t[o],e,{}),e.pop()}),r)}return n(t,[],e),e}var i=n(60),a=function(t,e){function n(t,e){return e.reduce(function(t,n,r){return r!==e.length-1||t[n]?t[n]===!0?t[n]={}:t[n]||(t[n]={}):t[n]=!0,t[n]},t),t}e=e||{};var a=new i(t,e),s=function(e){function i(t){var r=t.data.paths.reduce(n,{});e.emit("flush",r)}return e.on("modulesLoaded",function(){t=a.toJSON()}),e.on("change",function(){a.off("update",i),a.once("update",i),a.commit()}),e.on("reset",function(){a.set(t),a.commit();var n=o(t,{});e.emit("flush",n)}),e.on("seek",function(t,n){n.initialState.forEach(function(t){a.set(t.path,t.value)}),a.commit();var r=o(a.get(),{});e.emit("flush",r)}),{tree:a,logModel:function(){return a.get()},accessors:{get:function(t){return a.get(t)},toJSON:function(){return a.toJSON()},toJS:function(t){return a.get(t)},serialize:function(t){return a.serialize(t)},"export":function(){return a.serialize()},keys:function(t){return Object.keys(a.get(t))},findWhere:function(t,e){var n=Object.keys(e).length;return a.get(t).filter(function(t){return Object.keys(t).filter(function(n){return n in e&&e[n]===t[n]}).length===n}).pop()}},mutators:{set:function(t,e){a.set(t,e)},"import":function(e){var e=r(t,e);a.set(e)},unset:function(t,e){e?e.forEach(function(e){a.unset(t.concat(e))}):a.unset(t)},push:function(t,e){a.push(t,e)},splice:function(){var t=[].slice.call(arguments);a.splice.call(a,t.shift(),t)},merge:function(t,e){a.merge(t,e)},concat:function(t,e){a.apply(t,function(t){return t.concat(e)})},pop:function(t){var e;return a.apply(t,function(t){var n=t.slice();return e=n.pop(),n}),e},shift:function(t){var e;return a.apply(t,function(t){var n=t.slice();return e=n.shift(),n}),e},unshift:function(t,e){a.unshift(t,e)}}}};return s.tree=a,s};a.monkey=i.monkey,a.dynamicNode=i.dynamicNode,t.exports=a},function(t,e,n){var r=n(127),o=function(t,e){e=e||{};var n=new r(t),o=function(t){return t.on("change",function(){t.emit("flush",n.flushChanges())}),t.on("seek",function(t,e){e.initialState.forEach(function(t){n.set(t.path,t.value)})}),{logModel:function(){return n.get()},accessors:{get:function(t){return n.get(t)},toJSON:function(){return JSON.parse(JSON.stringify(n.get()))},toJS:function(t){return n.get(t)},"export":function(){return n.get()},keys:function(t){return Object.keys(n.get(t))},findWhere:function(t,e){var r=Object.keys(e).length;return n.get(t).filter(function(t){return Object.keys(t).filter(function(n){return n in e&&e[n]===t[n]}).length===r}).pop()}},mutators:{set:function(t,e){n.set(t,e)},"import":function(t){n.import(t)},unset:function(t,e){e?e.forEach(function(e){n.unset(t.concat(e))}):n.unset(t)},push:function(t,e){n.push(t,e)},splice:function(){var t=[].slice.call(arguments);n.splice.apply(n,[t.shift()].concat(t))},merge:function(t,e){n.merge(t,e)},concat:function(){n.concat.apply(n,arguments)},pop:function(t){n.pop(t)},shift:function(t){n.shift(t)},unshift:function(t,e){n.unshift(t,e)}}}};return o};t.exports=o},function(t,e,n){var r=n(70),o=n(69),i=i||function(t){setTimeout(t)},a=n(42);t.exports=function(){return"undefined"==typeof window?function(){}:"undefined"==typeof window.chrome?function(){}:function(t,e){function s(){window.__CEREBRAL_DEVTOOLS_GLOBAL_HOOK__&&(window.__CEREBRAL_DEVTOOLS_GLOBAL_HOOK__.signals=e.getSignals(),window.__CEREBRAL_DEVTOOLS_GLOBAL_HOOK__.staticTree=a);var t=new CustomEvent("cerebral.dev.cerebralPing");window.dispatchEvent(t),console.assert(e.listeners("modulesLoaded")[0]===s,"Cerebral devtools: Please do not place any listeners to `modulesLoaded` event before devtools's one.")}e.addContextProvider(n(67)),e.addContextProvider(n(66)),e.addContextProvider(n(65)),e.addContextProvider(n(68)),t.addModules({store:r()}),t.addSignals({modelChanged:[function(t){t.state.set(t.input.path,t.input.value)}]});var u=e.getServices()[t.name].store,c=!1,l=!1,f=!1,p=String(Date.now()),h="v4",d=!1,v=0,y=function(t){function e(t){return t.reduce(function(t,e){return!(!t&&!e.isExecuting)||n(e.branches)},!1)}function n(t){return t.reduce(function(t,e){return!!t||(Array.isArray(e)?n(e):r(e))},!1)}function r(t){var r=!1;return t.outputPath&&(r=n(t.outputs[t.outputPath])),t.signals&&(r=r||e(t.signals)),r}return!!t.isExecuting||n(t.branches)},g=function(t,e){for(var n=e;n<t.length;n++)if(y(t[n]))return n;return t.length-1},m=function(t,e,n){if(n||!f&&e&&l){var r={type:t,app:p,version:h,data:e},o=new CustomEvent("cerebral.dev.update",{detail:JSON.stringify(r)});window.dispatchEvent(o)}},b=function(){var t=u.getSignals();return v=t.length?g(t,v):0,l=!0,{initialModel:e.get(),signals:t,disableDebugger:f,isExecutingAsync:u.isExecutingAsync()}},_=function(){d||(d=!0,i(function(){var t=u.getSignals();m("signals",{signals:t.slice(v),isExecutingAsync:u.isExecutingAsync()}),v=t.length?g(t,v):0,d=!1}))},w=function(){m("settings",{disableDebugger:f},!0)};window.addEventListener("cerebral.dev.components",function(t){m("components",t.detail,!0)}),window.addEventListener("cerebral.dev.debuggerPing",function(){var t=[];o.hasLocalStorage()&&(f=JSON.parse(localStorage.getItem("cerebral_disable_debugger"))),u.setSignals(t),u.rememberInitial(u.getSignals().length-1),c=!0;var e=new CustomEvent("cerebral.dev.cerebralPong",{detail:JSON.stringify({type:"init",app:p,version:h,data:b()})});window.dispatchEvent(e)}),window.addEventListener("cerebral.dev.toggleDisableDebugger",function(){f=!f,w()}),window.addEventListener("cerebral.dev.resetStore",function(){u.reset(),e.emit("change"),m()}),window.addEventListener("cerebral.dev.remember",function(t){u.remember(t.detail)}),window.addEventListener("cerebral.dev.rewrite",function(t){var e=u.getSignals();e.splice(t.detail+1,e.length-1-t.detail),u.remember(t.detail)}),window.addEventListener("cerebral.dev.logPath",function(t){var n=t.detail.name,r=e.get(t.detail.path);console.log("CEREBRAL - "+n+":",r.toJS?r.toJS():r)}),window.addEventListener("cerebral.dev.logModel",function(t){console.log("CEREBRAL - model:",e.logModel())}),window.addEventListener("cerebral.dev.changeModel",function(e){t.getSignals().modelChanged(e.detail)}),window.addEventListener("unload",function(){u.removeRunningSignals(),o.hasLocalStorage()&&localStorage.setItem("cerebral_disable_debugger",c&&JSON.stringify(f))}),document.addEventListener("visibilitychange",function(){document.hidden||w()});var j={update:m,start:function(){console.warn("Cerebral: devtools.start() method is deprecated. Devtools has started automatically.")}};t.addServices(j),e.getDevtools=function(){return console.warn("Cerebral: controller.getDevtools() method is deprecated. Please upgrade your view package to latest version."),j};var k=e.listeners("modulesLoaded");e.removeAllListeners("modulesLoaded"),e.on("modulesLoaded",s),k.forEach(function(t){e.on("modulesLoaded",t)}),e.on("change",_)}}},function(t,e){t.exports=function(t,e){return e.action.input=e.payload,t}},function(t,e){t.exports=function(t,e){var n=t.output,r=Object.keys(t.output),o=function(){var t="string"==typeof arguments[0]?arguments[0]:null,r=t?arguments[1]:arguments[0];e.action.output=r,n.apply(null,arguments)};return r.reduce(function(t,r){return t[r]=function(){e.action.output=arguments[0]||{},n[r].apply(null,arguments)},t},o),t.output=o,t}},function(t,e){var n=function(t,e,r,o){return Object.keys(o).reduce(function(i,a){if(e.push(a),"function"!=typeof o[a]||"Function"!==o[a].constructor.name||Object.keys(o[a]).length||o[a].prototype&&Object.keys(o[a].prototype).length)"object"==typeof o[a]&&!Array.isArray(o[a])&&null!==o[a]&&r.indexOf(e.join("."))>=0?i[a]=n(t,e,r,o[a]):i[a]=o[a];else{var s=e.slice(),u=s.pop();i[a]=function(){return t.serviceCalls.push({name:s.join("."),method:u,args:[].slice.call(arguments)}),o[a].apply(this,arguments)}}return e.pop(a),i},{})};t.exports=function(t,e,r){var o=e.action,i=r.getModules(),a=r.getServices(),s=[];return o.serviceCalls=o.serviceCalls||[],t.services=n(o,s,Object.keys(i),a),t}},function(t,e){t.exports=function(t,e){return e.signal.isRecorded=e.options.isRecorded,e.signal.isRouted=e.options.isRouted,t}},function(t,e){(function(e){t.exports={hasLocalStorage:function(){return"undefined"!=typeof e.localStorage},debounce:function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}}}}).call(e,function(){return this}())},function(t,e,n){var r=n(132);t.exports=function(){return function(t,e){var o=[],i=!1,a=o.length-1,s=!1,u=[];e.addContextProvider&&(e.addContextProvider(n(77)),e.addContextProvider(n(72)));var c=function(t){u.push(t)},l=function(t){u.splice(u.indexOf(t),1)},f=function(t,e){if(e=e||{},!i)if(t.signalStoreRef=r.v4(),u.length){var n=u[u.length-1];n.signals=n.signals||[],n.signals.push(t)}else a++,o.push(t)},p={rememberNow:function(){o.length&&(a=o.length-1,this.remember(a))},reset:function(){i||(o=[],a=-1,e.emit("reset"))},rememberInitial:function(t){s||(s=!0,this.remember(t))},remember:function(t){if(i=!0,e.emit("reset"),t===-1)a=t,i=!1;else{a=-1;try{for(var n=0;n<=t;n++){var r=o[n];if(!r)break;var s=r.name.split(".").reduce(function(t,e){return t[e]},e.getSignals());s(r.payload||r.input,{branches:r.branches}),a=n}}catch(u){console.log(u.stack),console.warn("CEREBRAL - There was an error remembering state, it has been reset"),this.reset()}}e.emit("change"),i=!1},removeRunningSignals:function(){for(var t=0;t<o.length;t++)o[t].isExecuting&&(o.splice(t,1),t--)},getSignals:function(){return o},setSignals:function(t){o=o.concat(t)},isExecutingAsync:function(){return!!u.length},isRemembering:function(){return i},getCurrentIndex:function(){return a}};t.addServices(p),e.getStore=function(){return console.warn("Cerebral: controller.getStore() method is deprecated."),p},e.on("signalTrigger",function(t){var e=t.signal;!i&&a!==-1&&a<o.length-1&&(e.preventSignalRun(),console.warn("Cerebral - Looking in the past, ignored signal "+e.name))}),e.on("signalStart",function(t){t.signal.isPrevented||f(t.signal)}),e.on("actionStart",function(t){var e=t.action;e.isAsync&&c(e)}),e.on("actionEnd",function(t){var e=t.action;e.isAsync&&l(e)})}}},function(t,e){function n(t,e,n){var r=n.getModules(),o=n.getServices();return t.modules=Object.keys(r).reduce(function(n,i){var a=i.split("."),s=r[i].path,u=a.reduce(function(t,e){return t[e]=t[e]||{},t[e]},n);return u.meta=r[i].meta,u.path=s,u.state=t.state.select(s),u.services=s.reduce(function(t,e){return t[e]||{}},o),e.options.modulePath&&e.options.modulePath.join(".")===i&&(t.module=u),n},{}),t}t.exports=n},function(t,e){function n(t,e,n,r){return Object.keys(t).reduce(function(t,o){if(o in e){var i=t[o];t[o]=function(){var t=[].slice.call(arguments),e=t.shift();n.mutations.push({datetime:Date.now(),name:o,path:"string"==typeof e?r.concat(e.split(".")):r.concat(e),args:t}),i.apply(null,arguments)}}return t},t)}t.exports=function(t,e,r){var o=r.getModel(),i=e.action,a=t.state.select;return i.mutations=i.mutations||[],t.state=n(t.state,o.mutators,i,[]),t.state.select=function(t){var e=a(t);return n(e,o.mutators,i,"string"==typeof t?t.split("."):t)},t}},function(t,e){t.exports=function(t,e,n){return t.module||t.modules||(Object.defineProperty(t,"module",{get:function(){throw new Error('DEPRECATED: Use of "module" in signal "'+e.signal.name+'" and action "'+e.action.name+'" is no longer supported. Please install: https://github.com/cerebral/cerebral-provider-modules to get some more juice!')}}),Object.defineProperty(t,"modules",{get:function(){throw new Error('DEPRECATED: Use of "modules" in signal "'+e.signal.name+'" and action "'+e.action.name+'" is no longer supported. Please install: https://github.com/cerebral/cerebral-provider-modules to get some more juice!')}})),t}},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=e.action,o=e.signal,i=[{},e.payload,n.options.defaultInput?n.options.defaultInput:{}];if(t.input=r.merge.apply(null,i),r.isDeveloping()&&n.options.input){r.verifyInput(n.name,o.name,n.options.input,t.input);try{JSON.stringify(t.input)}catch(a){throw console.log("Not serializable",t.input),new Error("Cerebral - Could not serialize input to signal. Please check signal "+o.name)}}return t}},function(t,e,n){var r=n(5),o=n(43),i=function(t,e,n,i){if((t.options.output||t.options.outputs)&&!Array.isArray(t.options.outputs)){var a=t.options.output||t.options.outputs[e||t.options.defaultOutput];if(void 0!==a){if(!n)throw new Error(['Cerebral: There is a wrong output of action "'+r.getFunctionName(t)+'" in signal "'+i+'". You did not pass any values to the output'].join(""));Object.keys(a).forEach(function(e){if(!o(a[e],n[e]))throw new Error(['Cerebral: There is a wrong output of action "'+r.getFunctionName(t)+'" in signal "'+i+'". Check the following prop: "'+e+'"'].join(""))})}}},a=function(t,e,n){var o=function(){if(o.hasRun)throw new Error("Cerebral - You are running an async output on a synchronous action in "+e+". The action is "+t.name+". Either put it in an array or make sure the output is synchronous");var a="string"==typeof arguments[0]?arguments[0]:null,s=a?arguments[1]:arguments[0];if(r.isDeveloping())try{JSON.stringify(s)}catch(u){throw console.log("Not serializable",s),new Error("Cerebral - Could not serialize output. Please check signal "+e+" and action "+t.name)}if(!a&&!t.options.defaultOutput&&t.options.outputs)throw new Error(['Cerebral: There is a wrong output of action "'+r.getFunctionName(t)+'" in signal "'+e+'". Set defaultOutput or use one of outputs '+JSON.stringify(Object.keys(t.output||t.outputs||{}))].join(""));r.isDeveloping()&&i(t,a,s,e);var c={path:a||t.options.defaultOutput,payload:s||{}};n(c)};return o};t.exports=function(t,e){var n=e.action,o=e.signal.name,i=e.resolve,s=a(n,o,i);return n.outputs&&Object.keys(n.outputs).forEach(function(t){s[t]=s.bind(null,t)}),!i&&r.isDeveloping()&&setTimeout(function(){s.hasRun=!0},0),t.output=s,t}},function(t,e){t.exports=function(t,e,n){return t.services=n.getServices(),t}},function(t,e){t.exports=function(t,e){return e.signal.payload=e.payload,t}},function(t,e){t.exports=function(t,e,n){var r=e.action,o=n.getModel(),i=r.isAsync,a=function(t){var e=Object.keys(o.accessors||{}).reduce(function(e,r){return e[r]=function(){var e=[].slice.call(arguments),i=[];return e[0]&&Array.isArray(e[0])?i=e.shift():e[0]&&"string"==typeof e[0]&&(i=e.shift().split(".")),
"get"===r&&"function"==typeof arguments[0]?n.get(arguments[0]):o.accessors[r].apply(null,[t.concat(i)].concat(e))},e},{});return Object.keys(o.mutators||{}).reduce(function(e,n){return e[n]=function(){if(i)throw new Error("Cerebral: You can not mutate state in async actions. Output values and set them with a sync action");var e=[],r=[].slice.call(arguments);return Array.isArray(r[0])?e=r.shift():"string"==typeof r[0]&&(e=r.shift().split(".")),o.mutators[n].apply(null,[t.concat(e)].concat(r))},e},e),e.select=function(t){return a("string"==typeof t?t.split("."):t)},e.computed=function(t){return t.get(o.accessors.get([]))},e};return t.state=a([]),t}},function(t,e,n){function r(t,e){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(void 0===n[o])return n[o];n=n[o]}return n}function o(t){return Array.isArray(t)&&(t=t.join(".")),t.replace(/\.\*\*|\.\*/,"")}function i(t,e){Object.keys(t).forEach(function(n){var r=t[n].getDepsMap?t[n]:o(t[n]);r.getDepsMap?i(r.getDepsMap(),e):a.registry[r]?a.registry[r].indexOf(e)===-1&&(a.registry[r]=a.registry[r].concat(e)):a.registry[r]=[e]})}function a(t,e){return function(n){var s="function"==typeof t?t(n):t,u=JSON.stringify(s)+(n?JSON.stringify(n):"")+e.toString().replace(/\s/g,"");return i(s,u),{getDepsMap:function(){return s},get:function(t){if(a.cache[u])return a.cache[u];var i=Object.keys(s).reduce(function(e,n){if("string"==typeof s[n]||Array.isArray(s[n])){var i=o(s[n]);e[n]=r(i.split("."),t)}else e[n]=s[n].get(t);return e},{}),c=n||{},l=Object.keys(c).reduce(function(t,e){return t[e]=c[e],t},i),f=e(l);return a.cache[u]=f,f}}}}a.cache={},a.registry={},a.updateCache=function(t){function e(t,r,o){return Object.keys(t).forEach(function(i){r.push(i);var a=r.join(".");n[a]&&(o=n[a].reduce(function(t,e){return t.indexOf(e)===-1?t.concat(e):t},o)),t[i]!==!0&&(o=e(t[i],r,o)),r.pop()}),o}var n=a.registry,r=e(t,[],[]);r.forEach(function(t){delete a.cache[t]})};t.exports=a},function(t,e,n){var r=n(5);t.exports=function(t,e,n){var o={},i=function(e,n){var r=Object.keys(n).reduce(function(t,r){return t[e+"."+r]=n[r],t},{});return t.addSignals(r,{modulePath:e.split(".")})},a=function(e,n){var r=Object.keys(n).reduce(function(t,r){return t[e+"."+r]=n[r],t},{});t.addServices(r)},s=function(t,n){r.setDeep(o,t,n),e.mutators.set(t.split("."),n)},u=function(e,r){var o=null;return 1===arguments.length&&(r=e,e=null,o=function(t){throw new Error("Cerebral - You triggered a signal "+t.signal.name+" while modules are being registered. Do not trigger signals until Cerebral has initialized your application.")},t.on("signalTrigger",o)),Object.keys(r).forEach(function(t){c(t,e,r)}),1===arguments.length&&(t.removeListener("signalTrigger",o),t.emit("modulesLoaded",{modules:n})),n},c=function(e,r,o){var c=o[e],l=e;r&&(e=r+"."+e);var f={name:l,path:e.split(".")},p={name:e,path:f.path.slice(),alias:function(t){n[t]=f},addSignals:i.bind(null,e),addServices:a.bind(null,e),addState:s.bind(null,e),getSignals:function(){var n=t.getSignals(),r=e.split(".");return r.reduce(function(t,e){return t[e]},n)},addModules:u.bind(null,e),addContextProvider:function(n){t.addContextProvider(n,e)}},h=c(p,t);return f.meta=h,p.meta=h,n[e]=f,f};return t.on("reset",function(){e.mutators.merge([],o)}),u}},function(t,e,n){(function(e){var r=n(5),o=n(82),i=n(42),a=n(83),s=n(74),u=n(78),c=n(76),l=n(75),f=n(73),p=e.requestAnimationFrame||function(t){setTimeout(t,0)};t.exports=function(t,e){var n=0,h=[],d=!1;return t.isExecuting=function(){return Boolean(n)},function(v,y,g){r.isDeveloping()&&o(v,y||[]);var m=function(o,y){var b=Object.keys(g||{}).reduce(function(t,e){return t[e]=g[e],t},{}),_=Object.keys(y||{}).reduce(function(t,e){return t[e]=y[e],t},b),w=i(m.chain),j=w.actions,k={name:v,start:null,isSync:_.immediate,isExecuting:!1,isPrevented:!1,branches:w.branches,duration:0,preventSignalRun:function(){k.isExecuting===!1&&(k.isPrevented=!0)}},O=!1;if(_.branches?(k.isSync=!0,k.branches=_.branches,O=!0,t.emit("predefinedSignal",{signal:k,options:_,payload:o})):t.emit("signalTrigger",{signal:k,options:_,payload:o}),!k.isPrevented){var P=function(){k.start=Date.now(),k.isExecuting=!0,O||(n++,t.emit("signalStart",{signal:k,options:_,payload:o}));var i=function(o,p,h,d){var v=o[p];if(!v)return void(o!==k.branches||O||(o[p-1]&&(o[p-1].duration=Date.now()-h),k.isExecuting=!1,n--,t.emit("signalEnd",{signal:k,options:_,payload:d}),t.emit("change",{signal:k,options:_,payload:d})));if(Array.isArray(v)){if(!O){var y=0,g=v.map(function(n){var o=null,p=new Promise(function(t){o=t});t.emit("actionStart",{action:n,signal:k,options:_,payload:d});var h=j[n.actionIndex],g=[s,u,c,l].concat(r.extractExternalContextProviders(e,_.modulePath)).concat(r.isDeveloping()?f:[]),m=a(g,{action:n,signal:k,options:_,payload:d,resolve:o},t);if(n.isExecuting=!0,r.isDeveloping())try{h(m)}catch(b){throw n.error={name:b.name,message:b.message,stack:h.toString()},t.emit("signalError",{action:n,signal:k,options:_,payload:d}),t.emit("change",{signal:k,options:_,payload:d}),b}else h(m);return p.then(function(e){y++,n.hasExecuted=!0,n.isExecuting=!1,t.emit("actionEnd",{action:n,signal:k,options:_,payload:d});var o=r.merge({},d,e.payload);return e.path&&(n.outputPath=e.path,o=i(n.outputs[e.path],0,Date.now(),o)||o,o.then||y===v.length||t.emit("change",{signal:k,options:_,payload:o})),o})});return t.emit("change",{signal:k,options:_,payload:d}),Promise.all(g).then(function(t){var e=r.merge.apply(null,[{},d].concat(t));return i(o,p+1,Date.now(),e)||e}).catch(function(e){throw t.emit("error",e),e})}v.forEach(function(e){e.signals&&e.signals.forEach(function(e){var n=e.name.split(".").reduce(function(t,e){return t[e]},t.getSignals());n(e.input,{branches:e.branches})}),e.outputPath&&i(e.outputs[e.outputPath],0)}),i(o,p+1)}else{var m=v;if(!O){t.emit("actionStart",{action:m,signal:k,options:_,payload:d});var b={path:null,payload:{}},w=function(t){b=t},P=j[m.actionIndex],x=[s,u,c,l].concat(r.extractExternalContextProviders(e,_.modulePath)).concat(r.isDeveloping()?f:[]),E=a(x,{action:m,signal:k,options:_,payload:d,resolve:w},t);if(r.isDeveloping())try{P(E)}catch(C){throw m.error={name:C.name,message:C.message,stack:C.stack},t.emit("signalError",{action:m,signal:k,options:_,payload:d}),t.emit("change",{signal:k,options:_,payload:d}),C}else P(E);m.isExecuting=!1,m.hasExecuted=!0,o[p+1]&&!Array.isArray(o[p+1])||(m.duration=Date.now()-h);var A=null,S=r.merge({},d,b.payload);return b.path?(m.outputPath=b.path,t.emit("actionEnd",{action:m,signal:k,options:_,payload:d}),A=i(m.outputs[b.path],0,h,r.merge({},d,b.payload)),A&&A.then?A.then(function(t){return i(o,p+1,Date.now(),r.merge({},t,b.payload))}):i(o,p+1,h,r.merge({},S,A))||S):(t.emit("actionEnd",{action:m,signal:k,options:_,payload:d}),i(o,p+1,h,S)||S)}m.mutations.forEach(function(e){t.getModel().mutators[e.name].apply(null,[e.path.slice()].concat(e.args))}),m.outputPath&&i(m.outputs[m.outputPath],0),i(o,p+1)}};i(k.branches,0,Date.now(),o)};k.isSync?P():(h.push(P),d||(p(function(){for(;h.length;)h.shift()();d=!1}),d=!0))}};return m.signalName=v,Object.defineProperty(m,"chain",{get:function(){return y},set:function(t){console.warn("Cerebral - signal chain property is DEPRECATED. Please describe your usage at https://github.com/cerebral/cerebral/issues/243"),y=t},enumerable:!0,configurable:!0}),m}}}).call(e,function(){return this}())},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=function(e,o,i){e.forEach(function(a,s){var u;if("undefined"==typeof a)throw new Error(['Cerebral: Action number "'+s+'" in signal "'+t+'" does not exist. Check that you have spelled it correctly!'].join(""));if(Array.isArray(a))n(a,e,s);else{if(u=e[s+1],a.output&&(o&&"function"==typeof u||!o&&("function"!=typeof u||!u)||o&&"function"!=typeof o[i+1]))throw new Error(['Cerebral: The action "'+r.getFunctionName(a)+'" in signal "'+t+'" has an output definition, but there is no action to receive it. '+(u?"But there are "+JSON.stringify(Object.keys(u))+" paths, should it be outputs?":"")].join(""));if(a.outputs&&(!u||"function"==typeof u))throw new Error(['Cerebral: The action "'+r.getFunctionName(a)+'" in signal "'+t+'" has an output value. There should be these paths: '+JSON.stringify(Array.isArray(a.outputs)?a.outputs:Object.keys(a.outputs))].join(""));if(Array.isArray(a.outputs))u=e[s+1],a.outputs.forEach(function(e){if(!Array.isArray(u[e]))throw new Error(['Cerebral: The action "'+r.getFunctionName(a)+'" in signal "'+t+'" can not find path to its "'+e+'" output'].join(""))});else if(a.outputs)Object.keys(a.outputs).forEach(function(e){if(!Array.isArray(u[e]))throw new Error(['Cerebral: The action "'+r.getFunctionName(a)+'" in signal "'+t+'" can not find path to its "'+e+'" output'].join(""))});else if(!Array.isArray(a)&&"object"==typeof a&&null!==a){var c=e[s-1];Object.keys(a).forEach(function(e){if(!Array.isArray(a[e]))throw new Error(['Cerebral: The paths for action "'+r.getFunctionName(c)+'" in signal "'+t+'" are not valid. They have to be an array"'].join(""))})}}})};n(e)}},function(t,e){t.exports=function(t,e,n){return t=t.reduce(function(t,e){return t.indexOf(e)===-1?t.concat(e):t},[]),t.reduce(function(t,r){return"function"==typeof r?r(t,e,n):Object.keys(r).reduce(function(t,e){return t[e]=r[e],t},t)},{})}},function(t,e,n){var r=n(121),o=n(81),i=n(80),a=n(85).EventEmitter,s=n(79),u=function(t){var e=new a,n=t(e),u={},c={},l={},f={__cerebral_global__:[]},p=o(e,f),h=function(){for(var t=arguments[0].split("."),e=t.pop(),n=u;t.length;){var r=t.shift();n=n[r]=n[r]||{}}var o=n[e]=p.apply(null,arguments);return o},d=function(t,e){for(var n=t.split("."),r=n.pop(),o=l;n.length;){var i=n.shift();o=o[i]=o[i]||{}}return o[r]=e,e};return e.getSignals=function(t){return t?r(u,t):u},e.getServices=function(t){return t?r(l,t):l},e.getModel=function(){return n},e.get=function(t){return n.accessors.get("string"==typeof t?t.split("."):t)},e.logModel=function(){return n.logModel()},e.getModules=function(t){return t?c[t]:c},e.addModules=i(e,n,c),e.addSignals=function(t,e){Object.keys(t).forEach(function(n){if(t[n].chain){var r=Object.keys(e||{}).reduce(function(t,n){return t[n]=e[n],t},{}),o=Object.keys(t[n]).reduce(function(e,r){return"chain"!==r&&(e[r]=t[n][r]),e},r);h(n,t[n].chain,o)}else h(n,t[n],e)})},e.addServices=function(t){return Object.keys(t).forEach(function(e){d(e,t[e])}),e.getServices()},e.addContextProvider=function(t,e){e?(f[e]||(f[e]=[]),f[e].push(t)):f.__cerebral_global__.push(t),f[e||"__cerebral_global__"].push(t)},e.on("flush",s.updateCache),e};t.exports.Controller=u,t.exports.Computed=s,t.exports.ServerController=function(t){var e={accessors:{get:function(e){return e="string"==typeof e?e.split("."):e,e.reduce(function(t,e){return t[e]},t)}}};return{isServer:!0,get:function(t){return e.accessors.get(t)}}}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,u=0;u<o;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(98),i=n(99),a=n(100),s=n(101),u=n(102);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(107),i=n(108),a=n(109),s=n(110),u=n(111);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(50),o=n(24),i=r(o,"Map");t.exports=i},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(112),i=n(113),a=n(114),s=n(115),u=n(116);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(24),o=r.Symbol;t.exports=o},function(t,e,n){function r(t,e){e=i(e,t)?[e]:o(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}var o=n(94),i=n(104),a=n(118);t.exports=r},function(t,e,n){function r(t){if(!s(t)||a(t))return!1;var e=o(t)||i(t)?d:l;return e.test(u(t))}var o=n(122),i=n(103),a=n(106),s=n(52),u=n(119),c=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,h=f.hasOwnProperty,d=RegExp("^"+p.call(h).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(i(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var o=n(90),i=n(25),a=1/0,s=o?o.prototype:void 0,u=s?s.toString:void 0;t.exports=r},function(t,e,n){function r(t){return o(t)?t:i(t)}var o=n(51),i=n(117);t.exports=r},function(t,e,n){var r=n(24),o=r["__core-js_shared__"];t.exports=o},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.__data__=o?o(null):{}}var o=n(14);t.exports=r},function(t,e){function n(t){return this.has(t)&&delete this.__data__[t]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return s.call(e,t)?e[t]:void 0}var o=n(14),i="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return o?void 0!==e[t]:a.call(e,t)}var o=n(14),i=Object.prototype,a=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return n[t]=o&&void 0===e?i:e,this}var o=n(14),i="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e,n){function r(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var o=n(51),i=n(25),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!i&&i in t}var o=n(95),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(){this.__data__=[]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var o=n(12),i=Array.prototype,a=i.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(12);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(12);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}var o=n(12);t.exports=r},function(t,e,n){function r(){this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(86),i=n(87),a=n(88);t.exports=r},function(t,e,n){function r(t){return o(this,t).delete(t)}var o=n(13);t.exports=r},function(t,e,n){function r(t){return o(this,t).get(t)}var o=n(13);t.exports=r},function(t,e,n){function r(t){return o(this,t).has(t)}var o=n(13);t.exports=r},function(t,e,n){function r(t,e){return o(this,t).set(t,e),this}var o=n(13);t.exports=r},function(t,e,n){var r=n(124),o=n(125),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,a=/\\(\\)?/g,s=r(function(t){var e=[];return o(t).replace(i,function(t,n,r,o){e.push(r?o.replace(a,"$1"):n||t)}),e});t.exports=s},function(t,e,n){function r(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}var o=n(25),i=1/0;t.exports=r},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype.toString;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(91);t.exports=r},function(t,e,n){function r(t){var e=o(t)?u.call(t):"";return e==i||e==a}var o=n(52),i="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(r.Cache||o),n}var o=n(89),i="Expected a function";r.Cache=o,t.exports=r},function(t,e,n){function r(t){return null==t?"":o(t)}var o=n(93);t.exports=r},function(t,e){function n(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&r())}function r(){if(!f){var t=a.call(null,n);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,s.call(null,t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||f||a.call(null,r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){var r=n(129).default;t.exports=function(t){return new r(t)}},function(t,e){"use strict";function n(t,e,n){function r(t,n){t.forEach(function(t){var r=t.reduce(function(t,e){return"string"==typeof e?t[e]:t[e[0].indexOf(e[1])]},e);r[".referencePaths"]=r[".referencePaths"].filter(function(t){return t.map(function(t){return"string"==typeof t||"number"==typeof t?t:t[0].indexOf(t[1])}).join(".")!==n.join(".")})})}function o(t,e){Array.isArray(t)?t[".referencePaths"]&&(t.forEach(function(t,n){e.push(n),o(t,e),e.pop()}),r(t[".referencePaths"],e),t[".referencePaths"].length||delete t[".referencePaths"]):"object"==typeof t&&null!==t&&t[".referencePaths"]&&(Object.keys(t).forEach(function(n){e.push(n),o(t[n],e),e.pop()}),r(t[".referencePaths"],e),t[".referencePaths"].length||delete t[".referencePaths"])}"object"!=typeof t&&null!==t||o(t,n)}function r(t,e){function n(t,e){if("function"==typeof t)throw new Error("You can not pass functions into the state tree. This happens on path: "+e);return Array.isArray(t)?(Object.defineProperty(t,".referencePaths",{writable:!0,configurable:!0,value:t[".referencePaths"]?t[".referencePaths"].concat([e.slice()]):[e.slice()]}),t.forEach(function(r,o){e.push([t,r]),n(r,e),e.pop()}),t):"object"==typeof t&&null!==t?(Object.defineProperty(t,".referencePaths",{writable:!0,configurable:!0,value:t[".referencePaths"]?t[".referencePaths"].concat([e.slice()]):[e.slice()]}),Object.keys(t).forEach(function(r){e.push(r),n(t[r],e),e.pop(r)}),t):t}return n(t,e)}e.cleanReferences=n,e.setReferences=r},function(t,e,n){"use strict";var r=n(128),o=n(130),i=function(){function t(e){this._subscribers=[],this._changes={},this._state=t.setReferences(e,[])}return t.prototype._updateChanges=function(t,e){function n(t){return function(e,n,r){return Array.isArray(n)?(n=n[0].indexOf(n[1]),e[n]=r===t.length-1||{}):r!==t.length-1||e[n]?r<t.length-1&&(e[n]="object"==typeof e[n]?e[n]:{}):e[n]=!0,e[n]}}var r=this;t[".referencePaths"].forEach(function(t){var o=t?t.concat(e):[e];o.reduce(n(o),r._changes)})},t.prototype.get=function(e){return e=e?"string"==typeof e?e.split("."):e:[],t.getByPath(e,this._state)},t.prototype.set=function(e,n){var r="string"==typeof e?e.split("."):e,o=r.slice(),i=r.pop(),a=t.getByPath(r,this._state,!0);t.cleanReferences(a[i],this._state,o),a[i]=t.setReferences(n,r.concat(i)),this._updateChanges(a,i)},t.prototype.push=function(e,n){var o="string"==typeof e?e.split("."):e,i=o.pop(),a=t.getByPath(o,this._state),s=a[i].push(r.setReferences(n,o.concat(i,[[a[i],n]])));this._updateChanges(a[i],String(s-1))},t.prototype.unshift=function(e,n){var o="string"==typeof e?e.split("."):e.slice(),i=o.pop(),a=t.getByPath(o,this._state);a[i].unshift(r.setReferences(n,o.concat(i,[[a[i],n]])));this._updateChanges(a[i],String(0))},t.prototype.unset=function(e){var n="string"==typeof e?e.split("."):e,r=n.slice(),o=n.pop(),i=t.getByPath(n,this._state);t.cleanReferences(i[o],this._state,r),delete i[o],this._updateChanges(i,o)},t.prototype.shift=function(e){var n="string"==typeof e?e.split("."):e.slice(),o=n.slice(),i=n.pop(),a=t.getByPath(n,this._state);r.cleanReferences(a[i][0],this._state,o.concat(0)),a[i].shift(),this._updateChanges(a[i],String(0))},t.prototype.splice=function(){for(var e=[].slice.call(arguments),n=e.shift(),o=e.shift(),i=e.shift(),a="string"==typeof n?n.split("."):n,s=a.slice(),u=a.pop(),c=t.getByPath(a,this._state),l=o;l<o+i;l++)r.cleanReferences(c[u][l],this._state,s.slice().concat(l)),this._updateChanges(c[u],String(l));c[u].splice.apply(c[u],[o,i].concat(e.map(function(t){return r.setReferences(t,a.slice().concat(u,[[c[u],t]]))})))},t.prototype.pop=function(e){var n="string"==typeof e?e.split("."):e.slice(),o=n.slice(),i=n.pop(),a=t.getByPath(n,this._state),s=a[i].length-1;r.cleanReferences(a[i][s],this._state,o.concat(s)),a[i].pop(),this._updateChanges(a[i],String(s))},t.prototype.merge=function(){var e,n,o=this;1===arguments.length?(e="",n=arguments[0]):(e=arguments[0],n=arguments[1]);var i="string"==typeof e?e.split("."):e.slice(),a=i.slice(),s=i.pop(),u=t.getByPath(i,this._state,!0),c=u[s]||u;Object.keys(n).forEach(function(t){r.cleanReferences(c[t],o._state,s?a.slice().concat(t):[t]),c[t]=r.setReferences(n[t],s?i.slice().concat(s,t):[t]),o._updateChanges(c,t)})},t.prototype.concat=function(){var e=[].slice.call(arguments),n=e.shift(),o="string"==typeof n?n.split("."):n.slice(),i=o.pop(),a=t.getByPath(o,this._state);a[i]=a[i].concat.apply(a[i],e.map(function(t){return r.setReferences(t,o.slice().concat(i,[[a[i],t]]))})),this._updateChanges(a,i)},t.prototype.import=function(e){var n=this;t.cleanReferences(this._state,this._state,[]),this._state=o.deepmerge(this._state,e),Object.keys(this._state).forEach(function(t){n._state[t]=r.setReferences(n._state[t],[t])})},t.prototype.subscribe=function(t){this._subscribers.push(t)},t.prototype.unsubscribe=function(t){this._subscribers.splice(this._subscribers.indexOf(t),1)},t.prototype.flushChanges=function(){var t=this._changes;return this._changes={},this._subscribers.forEach(function(e){e(t)}),t},t.setReferences=r.setReferences,t.cleanReferences=r.cleanReferences,t.getByPath=o.getByPath,t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e){"use strict";function n(t,e,n){for(var r=e,o=0;o<t.length;o++){var i=t[o];if(n&&void 0===r[i]){var a={};Object.defineProperty(a,".referencePaths",{writable:!0,configurable:!0,value:[t.slice().splice(0,o+1)]}),r[i]=a}if(void 0===r[i])return r[i];r=r[i]}return r}function r(t,e){var n=Array.isArray(e),o=n&&[]||{};return n?(t=t||[],o=e.slice(),e.forEach(function(e,n){"undefined"==typeof o[n]?o[n]=e:"object"==typeof e&&(o[n]=r(t[n],e))})):(t&&"object"==typeof t&&Object.keys(t).forEach(function(e){o[e]=t[e]}),Object.keys(e).forEach(function(n){"object"==typeof e[n]&&e[n]&&t[n]?o[n]=r(t[n],e[n]):o[n]=e[n]})),o}e.getByPath=n,e.deepmerge=r},function(t,e){(function(e){var n;if(e.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t,e,n){var r=e&&n||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[r+o++]=c[t])});o<16;)e[r+o++]=0;return e}function o(t,e){var n=e||0,r=u;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function i(t,e,n){var r=e&&n||0,i=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:h,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:v+1,c=s-d+(u-v)/1e4;if(c<0&&void 0===t.clockseq&&(a=a+1&16383),(c<0||s>d)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=s,v=u,h=a,s+=122192928e5;var l=(1e4*(268435455&s)+u)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var f=s/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var y=t.node||p,g=0;g<6;g++)i[r+g]=y[g];return e?e:o(i)}function a(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var a=0;a<16;a++)e[r+a]=i[a];return e||o(i)}for(var s=n(131),u=[],c={},l=0;l<256;l++)u[l]=(l+256).toString(16).substr(1),c[u[l]]=l;var f=s(),p=[1|f[0],f[1],f[2],f[3],f[4],f[5]],h=16383&(f[6]<<8|f[7]),d=0,v=0,y=a;y.v1=i,y.v4=a,y.parse=r,y.unparse=o,t.exports=y}])});