!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("cerebral/models/immutable"),require("cerebral"),require("cerebral-provider-modules"),require("cerebral-module-devtools")):"function"==typeof define&&define.amd?define("bitbox-app",["cerebral/models/immutable","cerebral","cerebral-provider-modules","cerebral-module-devtools"],t):(e.bitbox=e.bitbox||{},e.bitbox.app=t(e.Immutable,e.Cerebral,e.CerebralProviderModules,e.CerebralModuleDevtools))}(this,function(e,t,o,n){"use strict";e="default"in e?e.default:e,o="default"in o?o.default:o,n="default"in n?n.default:n;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(e,u){return function(){var d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=l.env||"dev";"dev"===a&&(i.devtools=n());var f=e(d),c=t.Controller(f);c.addModules(i),c.addSignals({stateChanged:[function(e){var t=e.input,o=e.state;o.set(t.path,t.value)}]}),c.addContextProvider(o);var b={is:u,get:function(e){return c.get(e)},set:function(e,t){c.getSignals("stateChanged")({path:e,value:t})},get env(){return a},get model(){return c.getModel()},get controller(){return c},signals:function(e){return"object"===("undefined"==typeof e?"undefined":r(e))?c.addSignals(e):c.getSignals(e)},services:function(e){return"object"===("undefined"==typeof e?"undefined":r(e))?c.addServices(e):c.getServices(e)},modules:function(e){return"object"===("undefined"==typeof e?"undefined":r(e))?c.addModules(e):c.getModules(e)}};return b}},d=u(e,"immutable");return d});